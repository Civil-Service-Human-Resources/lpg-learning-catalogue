// Substituted by lpg-learning-catalogue

function removeTopFrame(){parent!==self&&parent.document.getElementById("LMSFrame")&&parent.document.getElementById("code")&&parent.document.getElementById("menu")&&(parent.document.getElementsByTagName("frameset")[0].rows="0,*")}function alertAll(){var names=LOCALISER.get("GENERIC_METHODS_OBJECT_PROPERTIES_TITLE"),functionsArray=new Array,objectsArray=new Array,variablesArray=new Array;for(var propCount in this)switch(evalProp=eval("this."+propCount),propType=typeof evalProp,propType){case"function":functionsArray[functionsArray.length]=propCount+" = "+LOCALISER.get("GENERIC_METHODS_FUNCTION_TYPE_TEXT")+"\n";break;case"object":objectsArray[objectsArray.length]=propCount+" = "+LOCALISER.get("GENERIC_METHODS_OBJECT_TYPE_TEXT")+"\n";break;default:variablesArray[variablesArray.length]=propCount+" = "+evalProp+"\n"}names+="\n"+LOCALISER.get("GENERIC_METHODS_FUNCTIONS_TITLE")+"\n\n";var count=0;for(functionsArray.sort();count<functionsArray.length;)names+=functionsArray[count],count++;names+="\n"+LOCALISER.get("GENERIC_METHODS_OBJECTS_TITLE")+"\n\n";var count=0;for(objectsArray.sort();count<objectsArray.length;)names+=objectsArray[count],count++;names+="\n"+LOCALISER.get("GENERIC_METHODS_VARIABLES_TITLE")+"\n\n";var count=0;for(variablesArray.sort();count<variablesArray.length;)names+=variablesArray[count],count++;alert(names)}function randomSort(a,b){return Math.random()-.5}function removeArrayElement(whatArray,whatIndex){for(var returnArray=new Array,count=0;count<whatArray.length;)count!=whatIndex&&(returnArray[returnArray.length]=whatArray[currIndex]),count++;return returnArray}function removeNamedArrayElement(_objWhatArray,_strWhatIndex){var returnArray=new Array;for(var _strCurrIndex in _objWhatArray)_strCurrIndex!=_strWhatIndex&&(returnArray[_strCurrIndex]=_objWhatArray[_strCurrIndex]);return returnArray}function joinArrays(array1,array2){var returnArray=new Array;for(var currIndex in array1)returnArray[returnArray.length]=array1[currIndex];for(var currIndex in array2)returnArray[returnArray.length]=array2[currIndex];return returnArray}function getRandom(minNum,maxNum){return minNum+Math.round(Math.random()*maxNum)}function debugMsg(msg,priority,whatObj,showCallee){BOO_SHOW_DEBUG&&DEBUG&&DEBUG.lert(msg,priority,whatObj,showCallee)}function unCamelCase(whatText){for(var lowerCaseString=whatText.toLowerCase(),expandedWordsArray=new Array,expandedWordEnd=0,count=0;count<whatText.length;)whatText.charAt(count)!=lowerCaseString.charAt(count)&&(expandedWordsArray[expandedWordsArray.length]=whatText.slice(expandedWordEnd,count),expandedWordEnd=count),count++;for(expandedWordsArray[expandedWordsArray.length]=whatText.slice(expandedWordEnd,count),count=0;count<expandedWordsArray.length;)0==count?expandedWordsArray[count]=expandedWordsArray[count].charAt(0).toUpperCase()+expandedWordsArray[count].slice(1,expandedWordsArray[count].length):expandedWordsArray[count]=expandedWordsArray[count].charAt(0).toLowerCase()+expandedWordsArray[count].slice(1,expandedWordsArray[count].length),count++;var deCameledString=expandedWordsArray.join(" ");return deCameledString}function trim(_strWhatText){for(;" "==_strWhatText.charAt(0);)_strWhatText=_strWhatText.slice(1,_strWhatText.length);for(;" "==_strWhatText.charAt(_strWhatText.length-1);)_strWhatText=_strWhatText.slice(0,_strWhatText.length-1);return _strWhatText}function _stripParaTags(_htmWhatText){return _htmWhatText.replace("<p>","").replace("<P>","").replace("</p>","").replace("</P>","")}function parseForAltText(_strWhatText){return _strWhatText=_strWhatText.replace("&#146;","'")}function stripAlphaChars(_strWhatString){var regExp=/\D/gi;return _strWhatString.replace(regExp,"")}var STR_PROJECT_ID="263",STR_BASE_SERVER_PATH="http://internal.gomolearning.com/",BOO_USE_LOCAL_DATA=!0,BOO_USE_LOCAL_RESOURCES=!0,BOO_ENABLE_URL_TIMESTAMPS=!0,BOO_APP_VERSION=!1,BOO_DYNAMIC_SCREEN_SIZE=!0,VIDEO_FULLWINDOW_MODE="screen",POLL_CONNECTION=!1,ALERT_TRACKING_ERRORS=!1,MATCH_COLUMN_HEIGHT=!1,BOO_ANIMATE_BASE_BACKGROUND=!1,ARR_MENU_ITEM_ORDER=["menuTitleC","menuTimeC","menuProgressC"],STR_LOGO_FILEPATH="[!LOGO_SRC!]",STR_LOGO_ALT="",BOO_LOCK_TOPICS=!1,BOO_MASTER_SCREEN_NEXT_BUTTON_LOCK=!1,STR_EMPTY_TOPIC_MESSAGE=LOCALISER.get("EMPTY_TOPIC_MESSAGE"),BOO_SHOW_MARKING=!1,BOO_SHOW_HIDDEN_ELEMENTS=!0,BOO_USE_SPRITE_SHEET_HOTSPOTS=!0,BOO_RESET_NON_ASSESSMENT_ASSET_STATES=!0,BOO_RESET_SCREEN_COMPLETION_STATE=!0,BOO_SHOW_TOPIC_TITLE=!1,BOO_SHOW_TOPIC_TITLE_PRIMARYTOPIC=!1,BOO_SHOW_TOPIC_TITLE_MENUTOPIC=!1,BOO_SHOW_TOPIC_TITLE_ON_SMARTPHONE=!1,BOO_SHOW_SCREEN_TITLE=!1,BOO_SHOW_SCREEN_TITLE_PRIMARYTOPIC=!1,BOO_SHOW_SCREEN_TITLE_MENUTOPIC=!1,BOO_SHOW_SCREEN_TITLE_ON_ITS_OWN=!1,BOO_SHOW_SCREEN_TITLE_OUTSIDE_CONTENT=!1,BOO_TILE_SCREEN_BACKGROUNDS=!1,INT_BACKGROUND_FADE_DURATION=500,BOO_PRETEND_TO_BE_SMARTPHONE_PHONE=!1,BOO_PRETEND_TO_BE_TABLET=!1,BOO_PRETEND_TO_BE_IOS=!1,BOO_PRETEND_TO_BE_BLACKBERRY_PHONE=!1,BOO_PRETEND_TO_BE_ANDROID_PHONE=!1,BOO_PRETEND_TO_BE_IPHONE=!1,BOO_PRETEND_TO_BE_ANDROID_TABLET=!1,BOO_PRETEND_TO_BE_IPAD=!1,BOO_LOW_OS_IPAD,BOO_LOW_OS_BLACKBERRY=!1,BOO_WARNINGSHOWN=!1,STR_LOWEST_OS=4,STR_LOW_OS_WARNING_TEXT=LOCALISER.get("LOW_IOS_MESSAGE"),BOO_ALWAYS_LAUNCH_IN_NEW_WINDOW=!1,BOO_LAUNCH_IN_NEW_WINDOW_FOR_MOBILE=!1,STR_LAUNCH_PAGE="index.htm",STR_LAUNCH_WINDOW_NAME="epicCourseWindow",ARR_POPUP_CONFIG=["fullscreen=no","top=0","left=0","width=1024","height=768","location=no","menubar=no","resizable=no","status=no","titlebar=no","toolbar=no"],BOO_HTML_LOCAL_STORAGE=!0,INT_HEARTBEAT_LENGTH=6e4,STR_CONNECTION_LOST_TEXT=LOCALISER.get("LMS_CONNECTION_ERROR_MESSAGE"),BOO_GRAPHICAL_PAGE_COUNT=!1,BOO_PAGE_COUNT_POSITION_TOP_STRAP=!1,BOO_PAGE_COUNT_POSITION_SCREEN=!1,BOO_PAGE_COUNT_POSITION_NAV=!0,BOO_SMARTPHONE_HIDE_NAV_FOR_POPUPS=!0,BOO_TEST_NAV_ITEMS_OVERRUN=!0,BOO_ACTIVE_PAGINATION_LINKS=!1,OBJ_NAV_BUTTONS={},OBJ_CORE_BUTTONS={objMenuButton:{booDefaultDisplayButton:!0,intPriority:100,strExtrasId:"menuButton",strHtmlFragment:"menu_topicTemplateC"},objNextButton:{booDefaultDisplayButton:!0,intPriority:100,strExtrasId:"nextButton",strHtmlFragment:"next_generalTemplateC",strType:"screen_navigation"},objBackButton:{booDefaultDisplayButton:!0,intPriority:100,strExtrasId:"backButton",strHtmlFragment:"back_generalTemplateC",strType:"screen_navigation"}},CONTENT_TRACKING_CONFIG={enabled:!1,pollingInterval:6e4},CLOSE_METHOD="",OBJ_ASSET_BOUNDARIES={},BOO_BROWSER_EDGE_SCROLLER=!0,BOO_ENABLE_SWIPE=!0,BOO_ENABLE_SWIPE_MENU=!0,BOO_ANIMATE_SCREENS=!0,BOO_ANIMATE_SUBSCREENS=!0,BOO_BLANK_ENTIRE_PAGE=!0,BOO_IGNORE_RESIZE_EVENTS=!0,BOO_FORCE_ANIMATE_API=!1,BOO_FORCE_SHOW_COURSE_COMPLETION_BOX=!1,STR_TRANSITION_TYPE="horizontalSlide",STR_DYNAMIC_TRANSITION_TYPE=null,CONTINUOUS_SCROLLING=!1,CONTINUOUS_SCROLLING_TRANSITION_TYPE="verticalSlide",BOO_PRELOAD_IMAGES=!1,STR_PRELOAD_TYPE_COURSE_LOAD="all",STR_PRELOAD_TYPE_TOPIC_LOAD="topic",OBJ_PRELOADER_CONFIG={"interface":!1,topic:!0,all:!0},BOO_PRELOADER_WARN_IMAGE_LOAD_FAIL=!1,OBJ_SCALE_FACTOR_BY_MODE={1:{graphicalC:1,accessibleC:1,smartphoneC:.27,tabletC:1},2:{graphicalC:1,accessibleC:1,smartphoneC:.64,tabletC:1},3:{graphicalC:1,accessibleC:1,smartphoneC:1,tabletC:1},sub1:{graphicalC:1,accessibleC:1,smartphoneC:.27,tabletC:1},sub2:{graphicalC:1,accessibleC:1,smartphoneC:.64,tabletC:1},sub3:{graphicalC:1,accessibleC:1,smartphoneC:1,tabletC:1}},OBJ_INDIVIDUAL_ASSET_SCALING_BY_MODE={graphicalC:!0,accessibleC:!0,smartphoneC:!0,tabletC:!0},INT_VIDEO_WIDTH=360,INT_VIDEO_HEIGHT=203,INT_POPUP_VIDEO_WIDTH=480,INT_POPUP_VIDEO_HEIGHT=300,INT_SMARTPHONE_VIDEO_WIDTH=300,INT_SMARTPHONE_VIDEO_HEIGHT=200,BOO_ALWAYS_SHOW_TRANSCRIPT=!1,BOO_ALWAYS_SHOW_TRANSCRIPT_BTN=!0,BOO_ADD_VIDEO_PLAY_ICON_TO_THUMBS=!0,BOO_SCALE_VIDEO_ASSETS=!1,BOO_ALLOW_AUTOPLAY_VIDEOS=!0,BOO_FORCE_SHOW_SWIFFY=!1,OBJ_SWF_EMBED_BY_MODE={graphicalC:!0,accessibleC:!1,smartphoneC:!1,tabletC:!1},OBJ_SWIFFY_EMBED_BY_MODE={graphicalC:!1,accessibleC:!1,smartphoneC:!0,tabletC:!0},BOO_SMART_FIT_FILMSTRIP=!1,BOO_CENTER_FILMSTRIP_IMAGES_HORIZONTALLY=!0,BOO_CENTER_FILMSTRIP_IMAGES_VERTICALLY=!1,BOO_INCLUDE_FILMSTRIP_STEP_HEADINGS=!0,BOO_SHOW_FILMSTRIP_STEP_NUMBERS=!0,BOO_SHOW_SUB_SCREEN_TITLES_IN_PROXIMITY_HOT_GRAPHIC=!1,STR_DEFAULT_VIDEO_PLACEHOLDER="video_default_thumb.png",INT_DEFAULT_VIDEO_PLACEHOLDER_WIDTH=256,INT_DEFAULT_VIDEO_PLACEHOLDER_HEIGHT=256,OBJ_LEGACY_GROUP_DATA={text:"standard",image:"standard",hottext:"standard",video:"av",sfl:"question",mcq:"question",graphicalmcq:"question",assessmentintro:"assessment",assessmentresults:"assessment",expert:"nonrendering",casestudy:"nonrendering",audioplayer:"av",electure:"av",resource:"nonrendering",proximityhotgraphic:"standard",clickandstick:"question",filmstrip:"standard",swfembed:"av",branchingmenu:"branching",branchingnavigation:"branching",comicstrip:"other"},BOO_ANIMATE_ASSETS_EVERY_VISIT=!1,BOO_LINEAR_COMPLETE_ON_LAST_PAGE=!0,INT_DEFAULT_GOOD_PASS=100,INT_DEFAULT_BASE_PASS=80,BOO_FORCE_NON_RANDOMISED_ASSESSMENT=!1,BOO_FORCE_SHOW_ENTIRE_ASSESSMENT=!1,BOO_PROGRESS_ON_CONFIRM_CLICK=!1,BOO_SHOW_CORRECTNESS_ICONS_ON_CONFIRM_CLICK=!1,BOO_SHOW_ASSESSMENT_START_BUTTON=!0,BOO_SHOW_ASSESSMENT_NEXT_ON_NON_QUESTION_PAGE=!0,BOO_HIDE_NEXT_UNTIL_CONFIRM=!0,BOO_HIDE_ALL_NAVIGATION=!1,BOO_MARK_ASSESSMENT_TOPICS_COMPLETE_ON_PASS=!0,BOO_SINGLE_ATTEMPT_IN_ASSESSMENT=!1,BOO_LOCK_POPUP_TOPICS_FROM_MENU=!1,BOO_ALWAYS_HIDE_BACK_BUTTON=!1,INT_CONTENT_WIDTH=995,OBJ_SCREEN_CHECKING_HEARTBEAT_BY_MODE={smartphoneC:{androidC:!0,iPhoneC:!1},tabletC:{androidC:!1,iPadC:!1}},BOO_ALERT_ASSETLESS_SCREENS=!1,BOO_ALERT_MISSING_META_DATA=!1,BOO_ALERT_EMPTY_META_DATA=!1,BOO_ALERT_UNHANDLED_EVENTS=!1,BOO_ALERT_MISSING_IMAGES=!1,BOO_SHOW_RELOAD_BUTTON=!1,BOO_SHOW_TOPIC_ID=!1,BOO_SHOW_SCREEN_ID=!1,BOO_SHOW_ASSET_ID=!1,BOO_HIGHLIGHT_CORRECT_ANSWER=!0,BOO_REPORT_MISSING_HELP_DATA=!1,BOO_SHOW_BRANCH_TARGET_IDS=!1,BOO_SHOW_DEBUG=!1,BOO_IMAGE_RELOAD=!0,BOO_LOG_EVENTS=!1,BOO_FAKE_PHP_PROCESS_VALUES_FOR_REVIEW=!1,STR_LOGO_FILEPATH_FOR_REVIEW="logo.png",STR_LOGO_ALT_FOR_REVIEW="Logo",STR_PROJECT_NAME_FOR_REVIEW="Project Name",BOO_PRODUCE_ALL_ZZZ=!1,OUTPUT_MODE_CHECKER={strObjID:"The output mode checker",strObjDescription:"The object that determines the current output mode",_strGraphicalMode:"graphicalC",_strAccessibleMode:"accessibleC",_strSmartphoneMode:"smartphoneC",_strTabletMode:"tabletC",strCurrentMode:"graphicalC",booPreviewMode:!1,strPreviousScreenSize:"defaultChecker",strCurrentScreenSize:"",strScreenSizeLarge:"large",strScreenSizeMedium:"medium",strScreenSizeSmall:"small",objScreenSizeBoundaries:{},arrScreensizeChangedCallbacks:[],intLargeScreenMin:1100,intMediumScreenMax:1099,intMediumScreenMin:500,intSmallScreenMax:499,strWhatOSClass:"",strWhatBrowserTypeClass:"",strWhatBrowserVersionClass:"",strWhatAndroidVersion:"",strWhatAndroidVersionThreeDigit:"",_strOSTagID:"operatingSystemL",_strOSVersionTagID:"operatingSystemVersionL",_strBrowserTypeTagID:"browserTypeL",_strBrowserVersionTagID:"browserVersionL",_strOutputModeTagID:"outputModeL",strAppFilePrefix:"",_strUserVersionChoice:null,_domBodyTag:null,_objCurrDOM:null,_booModeChangeLocked:!1,strClassName:"",handleEvent_updateAnimationLock:function(_booAnimationLockState){this._booModeChangeLocked=_booAnimationLockState},handleEvent_primeDOMReferences:function(_objWhatContentDOM){this._objCurrDOM=_objWhatContentDOM,this._domBodyTag=this._objCurrDOM.getElementsByTagName("body")[0],this.isIOSDevice()&&(this._domBodyTag.onscroll=function(_objEvent){scrollTo(0,0),_objEvent.preventDefault()}),window.console||(window.console={}),window.console.log||(window.console.log=function(){})},handleEvent_userVersionChoice:function(_objOptionsData){var _strWhatOutputMode,_booSurpressReRender;if(this._booModeChangeLocked)return void(_objOptionsData.funCallBack&&_objOptionsData.funCallBack());switch(_objOptionsData.booTriggeredByActionsObj?(_strWhatOutputMode=_objOptionsData.objActionTriggerParams.strWhatVersionChoice,_booSurpressReRender=_objOptionsData.objActionTriggerParams.booSurpressReRender):(_strWhatOutputMode=_objOptionsData.strWhatVersionChoice,_booSurpressReRender=_objOptionsData.booSurpressReRender),_strWhatOutputMode){case"graphical":this.strCurrentMode=this._strGraphicalMode,this._strUserVersionChoice=this._strGraphicalMode,EM.trigger("outputModeChanged",{strNewOutputMode:this.strCurrentMode,booSurpressReRendering:_booSurpressReRender}),CONTENT_TRACKING.state.add("strUserVersionChoice",this.strCurrentMode);break;case"accessible":this.strCurrentMode=this._strAccessibleMode,this._strUserVersionChoice=this._strAccessibleMode,EM.trigger("outputModeChanged",{strNewOutputMode:this.strCurrentMode,booSurpressReRendering:_booSurpressReRender}),CONTENT_TRACKING.state.add("strUserVersionChoice",this.strCurrentMode);break;case"smartphone":this.strCurrentMode=this._strSmartphoneMode,this._strUserVersionChoice=this._strSmartphoneMode,EM.trigger("outputModeChanged",{strNewOutputMode:this.strCurrentMode,booSurpressReRendering:_booSurpressReRender}),CONTENT_TRACKING.state.add("strUserVersionChoice",this.strCurrentMode);break;case"tablet":this.strCurrentMode=this._strTabletMode,this._strUserVersionChoice=this._strTabletMode,EM.trigger("outputModeChanged",{strNewOutputMode:this.strCurrentMode,booSurpressReRendering:_booSurpressReRender}),CONTENT_TRACKING.state.add("strUserVersionChoice",this.strCurrentMode);break;default:LOCALISER.l_alert("OUTPUT_MODE_CHECKER_UNKNOWN_OUTPUT_MODE_ERROR",[_strWhatOutputMode])}this._applyModeClass(),window.setTimeout("OUTPUT_MODE_CHECKER.rerenderedTopic()",0),_objOptionsData.booTriggeredByActionsObj&&_objOptionsData.funCallBack(),"undefined"!=typeof gomo.outputChecker&&gomo.outputChecker.updateOutputVariables()},rerenderedTopic:function(){SCROLLING_MANAGER.pollScreenScrolling(null,!0)},handleEvent_startedTracking:function(){var versionChoice=CONTENT_TRACKING.state.get("strUserVersionChoice");versionChoice&&(this._strUserVersionChoice=versionChoice)},setVersionClasses:function(_strWhatOSClass,_strWhatBrowserTypeClass,_strWhatBrowserVersionClass){if("ie7C"==_strWhatBrowserTypeClass||"ie8C"==_strWhatBrowserTypeClass){var _objDoubleCheckedBrowserClasses=this._setIE8IsALiar();_strWhatBrowserTypeClass=_objDoubleCheckedBrowserClasses.strBrowserTypeClass,_strWhatBrowserVersionClass=_objDoubleCheckedBrowserClasses.strBrowserVersionClass}this.strWhatOSClass=_strWhatOSClass,this.strWhatBrowserTypeClass=_strWhatBrowserTypeClass,this.strWhatBrowserVersionClass=_strWhatBrowserVersionClass,"safariC"==OUTPUT_MODE_CHECKER.strWhatBrowserTypeClass&&"browserVersion_7_C"==OUTPUT_MODE_CHECKER.strWhatBrowserVersionClass&&"iPadC"==OUTPUT_MODE_CHECKER.strWhatOSClass&&jQuery("html").addClass("ipadIos7C"),"undefined"!=typeof gomo.outputChecker&&gomo.outputChecker.updateOutputVariables()},checkOutputMode:function(){BrowserDetect.init(),this.isSmartPhone()?(this.strCurrentMode=this._strSmartphoneMode,this._getAndroidVersion()):MobileEsp.DetectTierTablet()||this.isWindowsTablet()||BOO_PRETEND_TO_BE_IPAD||BOO_PRETEND_TO_BE_TABLET?(this.strCurrentMode=this._strTabletMode,BOO_PRETEND_TO_BE_IPAD||this.isLowOSIpad()):this._strUserVersionChoice?this.strCurrentMode=this._strUserVersionChoice:this.strCurrentMode=this._strGraphicalMode,this._applyBrowserVersionClasses(),this._applyModeClass(),this._applyAppFilePrefix(),EM.trigger("outputModeChanged",{strNewOutputMode:this.strCurrentMode,booSurpressReRendering:!0})},pollScreenSize:function(){var _objOptions={strTitle:"defaultChecker",intLargeScreenMin:this.intLargeScreenMin,intSmallScreenMax:this.intSmallScreenMax,funCallBack:function(){OUTPUT_MODE_CHECKER.strCurrentScreenSize=OUTPUT_MODE_CHECKER.objScreenSizeBoundaries.defaultChecker.strCurrentLayoutSize;var updatedData={domUpdateElement:jQuery(window),strUpdateElementType:"screen",strUpdatedScreenSize:OUTPUT_MODE_CHECKER.strCurrentScreenSize};EM.trigger("screenSizeChanged",updatedData),gomo.assetManager.raiseEvents("screenSizeChanged",updatedData)}};this.setNewScreenSizeBoundary(_objOptions),jQuery(window).resize(function(){OUTPUT_MODE_CHECKER._checkForElementSizeUpdates(),OUTPUT_MODE_CHECKER._callbackScreensizeChanged(),EM.trigger("screenResize")})},manualScreenSizeCheck:function(){this._checkForElementSizeUpdates()},resetScreenSizeCheckObj:function(){var _objTempWindowBoundary=this.objScreenSizeBoundaries.defaultChecker;this.objScreenSizeBoundaries={},this.objScreenSizeBoundaries.defaultChecker=_objTempWindowBoundary,this.arrScreensizeChangedCallbacks=[]},setNewScreenSizeBoundary:function(_objOptions){if(_objOptions.objRawAssetData&&(_objOptions.objRawAssetData.strBoundaryId=this.getScreenSizeBoundaryTitle(_objOptions.objRawAssetData)),_objOptions.strTitle);else{if(!_objOptions.objRawAssetData||!_objOptions.objRawAssetData.strBoundaryId)return;_objOptions.strTitle=_objOptions.objRawAssetData.strBoundaryId}this.objScreenSizeBoundaries[_objOptions.strTitle]||(this.objScreenSizeBoundaries[_objOptions.strTitle]={},_objOptions.strDomId&&(this.objScreenSizeBoundaries[_objOptions.strTitle].strDomId=_objOptions.strDomId),this.objScreenSizeBoundaries[_objOptions.strTitle].strPreviousLayoutSize="defaultChecker",this.objScreenSizeBoundaries[_objOptions.strTitle].intLargeScreenMin=this.intLargeScreenMin,this.objScreenSizeBoundaries[_objOptions.strTitle].intSmallScreenMax=this.intSmallScreenMax,_objOptions.intLargeScreenMin&&(this.objScreenSizeBoundaries[_objOptions.strTitle].intLargeScreenMin=_objOptions.intLargeScreenMin),_objOptions.intSmallScreenMax&&(this.objScreenSizeBoundaries[_objOptions.strTitle].intSmallScreenMax=_objOptions.intSmallScreenMax),_objOptions.funCallBack&&(this.objScreenSizeBoundaries[_objOptions.strTitle].funCallBack=_objOptions.funCallBack,this.objScreenSizeBoundaries[_objOptions.strTitle].objOptionalFunParameter=_objOptions.objOptionalFunParameter))},setNewScreensizeChangeCallback:function(_objCallback){this.arrScreensizeChangedCallbacks.push(_objCallback)},getScreenSizeBoundaryTitle:function(_objAssetRawData){var strBoundaryId=_objAssetRawData.strType+"_"+_objAssetRawData.strID;return strBoundaryId},getScreenDimensions:function(){var _intViewportWidth,_intViewportHeight;return"undefined"!=typeof window.innerWidth?(_intViewportWidth=window.innerWidth,_intViewportHeight=window.innerHeight):"undefined"!=typeof document.documentElement&&"undefined"!=typeof document.documentElement.clientWidth&&0!=document.documentElement.clientWidth?(_intViewportWidth=document.documentElement.clientWidth,_intViewportHeight=document.documentElement.clientHeight):(_intViewportWidth=document.getElementsByTagName("body")[0].clientWidth,_intViewportHeight=document.getElementsByTagName("body")[0].clientHeight),{intViewportWidth:_intViewportWidth,intViewportHeight:_intViewportHeight}},isDesktop:function(){return!this.isTablet()&&!this.isSmartPhone()},isSmartPhone:function(){return!!MobileEsp.DetectSmartphone()||!!(BOO_PRETEND_TO_BE_IPHONE||BOO_PRETEND_TO_BE_ANDROID_PHONE||BOO_PRETEND_TO_BE_BLACKBERRY_PHONE||BOO_PRETEND_TO_BE_SMARTPHONE_PHONE)},isTablet:function(){return!(!MobileEsp.DetectTierTablet()&&!this.isWindowsTablet()||MobileEsp.DetectBlackBerryTablet())||!!(BOO_PRETEND_TO_BE_ANDROID_TABLET||BOO_PRETEND_TO_BE_IPAD||BOO_PRETEND_TO_BE_TABLET)},isWindowsTablet:function(){var _strUserAgent="";return navigator&&navigator.userAgent&&(_strUserAgent=navigator.userAgent.toLowerCase()),_strUserAgent.indexOf("windows")!=-1&&_strUserAgent.indexOf("touch")!=-1&&_strUserAgent.indexOf("wow64")==-1&&_strUserAgent.indexOf("win64")==-1},isIPad:function(){return!!MobileEsp.DetectIpad()},isLowOSIpad:function(){var _strUserAgentString=navigator.userAgent,_strSlice="";return _strUserAgentString.indexOf("iPad")>-1&&(_strSlice=_strUserAgentString.split("OS ")[1],_strSlice=_strSlice.split(" like")[0],_strSlice=1*_strSlice.split("_")[0],_strSlice<STR_LOWEST_OS&&(!!BOO_WARNINGSHOWN||(alert(STR_LOW_OS_WARNING_TEXT),BOO_WARNINGSHOWN=!0,!0)))},isBlackberryPhone:function(){return!(!MobileEsp.DetectBlackBerry()&&!BOO_PRETEND_TO_BE_BLACKBERRY_PHONE)},isLowOSBlackberry:function(){var _strUserAgentString=navigator.userAgent;if(_strUserAgentString.indexOf("BlackBerry")>-1&&_strUserAgentString.indexOf("WebKit")==-1)return!0},isIOSDevice:function(){return!!(MobileEsp.DetectIos()||BOO_PRETEND_TO_BE_IOS||BOO_PRETEND_TO_BE_IPHONE||BOO_PRETEND_TO_BE_IPAD)},isRunningFromFile:function(){return"file:"==document.location.protocol},isAndroidDevice:function(){return!!(MobileEsp.DetectAndroid()||BOO_PRETEND_TO_BE_ANDROID_PHONE||BOO_PRETEND_TO_BE_ANDROID_TABLET)},isWindowsPhone:function(){return!!MobileEsp.DetectWindowsPhone()},isAndroid_4_1_to_4_3:function(){return!!/Android 4\.[123]/.test(navigator.userAgent)},getBrowserName:function(){var browserName=head.browser.name;return"undefined"==typeof browserName&&(browserName=OUTPUT_MODE_CHECKER.booIsIE()?"Internet Explorer":"unknown"),browserName},getBrowserVersion:function(){var browserVersion=head.browser.version;return isNaN(browserVersion)&&(browserVersion=BrowserDetect.version,"undefined"==typeof browserVersion&&(BrowserDetect.init(),browserVersion=BrowserDetect.version),"an unknown version"==browserVersion&&(browserVersion=0)),browserVersion},getDeviceType:function(){var deviceType="other";return OUTPUT_MODE_CHECKER.isDesktop()&&(deviceType="desktop"),OUTPUT_MODE_CHECKER.isSmartPhone()&&(deviceType="smartphone"),OUTPUT_MODE_CHECKER.isTablet()&&(deviceType="tablet"),deviceType},getClientOs:function(){var osName="Unknown OS";return navigator.appVersion.indexOf("Win")!=-1&&(osName="Windows"),navigator.appVersion.indexOf("Mac")!=-1&&(osName="MacOS"),navigator.appVersion.indexOf("X11")!=-1&&(osName="UNIX"),navigator.appVersion.indexOf("Linux")!=-1&&(osName="Linux"),osName},hasDomRefreshError:function(){return"3.2"==this.strWhatAndroidVersion},canHandleAnimationType:function(strAnimationAsset){if("3.2"!=this.strWhatAndroidVersion)return!0;switch(strAnimationAsset){case"screen":return!1;default:return!0}},canHandleHardwareAnimation:function(strAnimationAsset){return"4.1"==this.strWhatAndroidVersion,!0},canHandleVideoBackground:function(){var videoSupport=!1;return Modernizr&&Modernizr.video&&(videoSupport=!0),videoSupport},applyScrolling:function(){return!(!this.isTablet()&&!this.isSmartPhone())},useTransformForScrollingWithVideoAssets:function(){if(this.isIPad()){var _strIOSVersion=this._getIOSVersionString(),_arrIOSVersionSplit=_strIOSVersion.split("_");return _arrIOSVersionSplit[0]>=5&&_arrIOSVersionSplit[1]>=1}return!0},booIE8CompatibilityMode:function(){var isIE8=navigator.appVersion.indexOf("MSIE")!=-1&&8==parseFloat(navigator.appVersion.split("MSIE")[1]),isIE7=navigator.appVersion.indexOf("MSIE")!=-1&&7==parseFloat(navigator.appVersion.split("MSIE")[1]);return!(!isIE8&&!isIE7||navigator.appVersion.indexOf("Trident")==-1)},booIsIE8:function(){var isIE8=navigator.appVersion.indexOf("MSIE")!=-1&&8==parseFloat(navigator.appVersion.split("MSIE")[1]);return!!isIE8},booIsIE:function(){return!(navigator.appVersion.indexOf("MSIE")==-1&&!navigator.userAgent.match(/Trident\/7\./))},booIsMicrosoftEdge:function(){return navigator.appVersion.indexOf("Edge")!=-1},booIsFirefox:function(){return navigator.userAgent.toLowerCase().indexOf("firefox")>-1},booRequireIscrollFix:function(){var version=OUTPUT_MODE_CHECKER.strWhatAndroidVersionThreeDigit;return"4.1.1"==version},_checkOverrideBrowserClasses:function(){BOO_PRETEND_TO_BE_BLACKBERRY_PHONE?(this.strWhatOSClass="blackberryC",this.strWhatBrowserTypeClass="safariC",this.strWhatBrowserVersionClass="browserVersion_534.8_C"):BOO_PRETEND_TO_BE_ANDROID_PHONE?(this.strWhatOSClass="androidC",this.strWhatBrowserTypeClass="safariC",this.strWhatBrowserVersionClass="browserVersion_533.1_C"):BOO_PRETEND_TO_BE_IPHONE&&(this.strWhatOSClass="iPhoneC",this.strWhatBrowserTypeClass="safariC",this.strWhatBrowserVersionClass="browserVersion_5.1_C"),BOO_PRETEND_TO_BE_ANDROID_TABLET?(this.strWhatOSClass="androidC",this.strWhatBrowserTypeClass="safariC",this.strWhatBrowserVersionClass="browserVersion_534.3_C"):BOO_PRETEND_TO_BE_IPAD&&(this.strWhatOSClass="iPadC",this.strWhatBrowserTypeClass="safariC",this.strWhatBrowserVersionClass="browserVersion_5.1_C")},_checkForElementSizeUpdates:function(){var strUpdateId,shownScreen=".shownScreenC ";BOO_DYNAMIC_CONTINUOUS_SCROLLING&&(shownScreen="");var idToken="#";for(strUpdateId in OUTPUT_MODE_CHECKER.objScreenSizeBoundaries)if(Object.prototype.hasOwnProperty.call(OUTPUT_MODE_CHECKER.objScreenSizeBoundaries,strUpdateId)){var strDomId="",domElement="";if(OUTPUT_MODE_CHECKER.objScreenSizeBoundaries[strUpdateId].strDomId){if(strDomId=OUTPUT_MODE_CHECKER.objScreenSizeBoundaries[strUpdateId].strDomId,domElement=$(shownScreen+idToken+strDomId)[0],"undefined"==typeof domElement||null==domElement)continue}else domElement=window;jQuery(domElement).width()>=OUTPUT_MODE_CHECKER.objScreenSizeBoundaries[strUpdateId].intLargeScreenMin?OUTPUT_MODE_CHECKER.objScreenSizeBoundaries[strUpdateId].strCurrentLayoutSize=OUTPUT_MODE_CHECKER.strScreenSizeLarge:jQuery(domElement).width()<=OUTPUT_MODE_CHECKER.objScreenSizeBoundaries[strUpdateId].intSmallScreenMax?OUTPUT_MODE_CHECKER.objScreenSizeBoundaries[strUpdateId].strCurrentLayoutSize=OUTPUT_MODE_CHECKER.strScreenSizeSmall:OUTPUT_MODE_CHECKER.objScreenSizeBoundaries[strUpdateId].strCurrentLayoutSize=OUTPUT_MODE_CHECKER.strScreenSizeMedium,OUTPUT_MODE_CHECKER.objScreenSizeBoundaries[strUpdateId].strPreviousLayoutSize!=OUTPUT_MODE_CHECKER.objScreenSizeBoundaries[strUpdateId].strCurrentLayoutSize&&(OUTPUT_MODE_CHECKER.objScreenSizeBoundaries[strUpdateId].strPreviousLayoutSize=OUTPUT_MODE_CHECKER.objScreenSizeBoundaries[strUpdateId].strCurrentLayoutSize,OUTPUT_MODE_CHECKER.objScreenSizeBoundaries[strUpdateId].funCallBack({objUpdateValue:OUTPUT_MODE_CHECKER.objScreenSizeBoundaries[strUpdateId],objOptionalFunParameter:OUTPUT_MODE_CHECKER.objScreenSizeBoundaries[strUpdateId].objOptionalFunParameter}))}},_callbackScreensizeChanged:function(){for(var count=0;count<this.arrScreensizeChangedCallbacks.length;)this.arrScreensizeChangedCallbacks[count](),count++},_applyBrowserVersionClasses:function(){this._checkOverrideBrowserClasses(),this._getAndroidVersion(),this._getAndroidVersionThreeDigit();var _domOSTag=this._objCurrDOM.getElementById(this._strOSTagID),_domOSVersionTag=this._objCurrDOM.getElementById(this._strOSVersionTagID),_domBrowserTypeTag=this._objCurrDOM.getElementById(this._strBrowserTypeTagID),_domBrowserVersionTag=this._objCurrDOM.getElementById(this._strBrowserVersionTagID),_strOSVersion="";_domOSTag&&_domBrowserTypeTag&&_domBrowserVersionTag?(_domOSTag.className=this.strWhatOSClass,"iPadC"==_domOSTag.className&&(_strOSVersion=this._getIOSVersionString()),this.isAndroidDevice()&&(_strOSVersion=this.strWhatAndroidVersion.replace(".","_")),_strOSVersion&&(_domOSVersionTag.className="osVersion_"+_strOSVersion+"_C"),_domBrowserTypeTag.className=this.strWhatBrowserTypeClass,_domBrowserVersionTag.className=this.strWhatBrowserVersionClass):LOCALISER.l_alert("OUTPUT_MODE_CHECKER_MISSING_OUTPUT_MODE_TAGS_ERROR")},_applyAppFilePrefix:function(){var _strDocumentLocation="";if(BOO_APP_VERSION){_strDocumentLocation=this.isIOSDevice()?document.location.pathname:document.location.href;var _strFilename=_strDocumentLocation.substring(_strDocumentLocation.lastIndexOf("/")+1),_strFileLocation=_strDocumentLocation.replace(_strFilename,"");this.strAppFilePrefix=_strFileLocation}},_applyModeClass:function(){var _domOutputModeTag=this._objCurrDOM.getElementById(this._strOutputModeTagID);_domOutputModeTag.className=this.strCurrentMode;var classUpdates="";BOO_BROWSER_EDGE_SCROLLER&&(classUpdates=" browserEdgeScroller"),"undefined"!=typeof CUSTOM_SCROLLER_STYLE&&1!=CUSTOM_SCROLLER_STYLE||(classUpdates+=" customScrollerStyle"),document.body.className=this.strCurrentMode+classUpdates},_getIOSVersionString:function(){if(BOO_PRETEND_TO_BE_IPAD)return"5";var _strBaseUserAgent=navigator.userAgent,_strFirstSplit=_strBaseUserAgent.split("CPU OS ")[1],_strOSVersionSplit=_strFirstSplit.split(" like")[0];return _strOSVersionSplit},_getAndroidVersion:function(){var _strUserAgent=navigator.userAgent;return _strUserAgent.indexOf("Android")>=0?(this.strWhatAndroidVersion=parseFloat(_strUserAgent.slice(_strUserAgent.indexOf("Android")+8)),this.strWhatAndroidVersion=this.strWhatAndroidVersion+"",this.strWhatAndroidVersion):(this.strWhatAndroidVersion="",this.strWhatAndroidVersion)},_getAndroidVersionThreeDigit:function(){var _strUserAgent=navigator.userAgent;return _strUserAgent.indexOf("Android")>=0?(this.strWhatAndroidVersionThreeDigit=_strUserAgent.slice(_strUserAgent.indexOf("Android")+8,_strUserAgent.indexOf("Android")+13),this.strWhatAndroidVersionThreeDigit=this.strWhatAndroidVersionThreeDigit+"",this.strWhatAndroidVersionThreeDigit):(this.strWhatAndroidVersionThreeDigit="",this.strWhatAndroidVersionThreeDigit)},_setIE8IsALiar:function(){var booIE8CompatibilityMode=this.booIE8CompatibilityMode(),_objBrowserClasses={strBrowserTypeClass:"ie7C",strBrowserVersionClass:"browserVersion_7_C"};return booIE8CompatibilityMode&&(_objBrowserClasses={strBrowserTypeClass:"ie8CompatibilityModeC",strBrowserVersionClass:"browserVersion_8_C"}),_objBrowserClasses},debug:function(strMessage,intPriority,objCallerObject,booCalleeChain){DEBUG&&DEBUG.lert(strMessage,intPriority,objCallerObject,booCalleeChain)}};window.EM&&EM.register(OUTPUT_MODE_CHECKER);var CLOSE_METHODS={iq:function(){return window.location="Close.htm",!0},excellence:function(){return"undefined"!=typeof window.parent&&"undefined"!=typeof window.parent.Control&&"undefined"!=typeof window.parent.Control.ReturnToLms&&(window.parent.Control.ReturnToLms(),!0)}};requireMap={backbone:"frameworks/backbone/backbone",handlebars:"frameworks/handlebars/handlebars",mustache:"frameworks/player/mustache/mustache",knockout:"frameworks/knockout/knockout",komappings:"frameworks/knockout/knockout.mapping",stacktrace:"frameworks/stacktrace/stacktrace",svg4everyone:"frameworks/svg/svg4everybody.legacy",videoJs:"frameworks/player/video-js-2/video"};
var CLOSE_METHODS = {

    csl: function () {
        console.log('corePrimaryLoadList.min.js: csl close');
        var url = window.location.toString();
        var prodMatch = url.match(/(https?):\/\/([^-]*)-?cdn\.learn\.civilservice\.gov\.uk\/[^/]+\/([^/]+)\/([^/]+)\/.*$/);
        var nonProdMatch = url.match(/(https?):\/\/([^-]*)-?cdn\.cshr\.digital\/[^/]+\/([^/]+)\/([^/]+)\/.*$/);

        if (!prodMatch && !nonProdMatch) {
            console.log('Content being accessed on invalid domain');
            throw new Error('Content being accessed on invalid domain');
        }

        var courseId;
        var host;
        if (prodMatch) {
            courseId = prodMatch[3];
            host = 'learn.civilservice.gov.uk/';
        } else {
            courseId = nonProdMatch[3];
            if (nonProdMatch[2] === 'local') {
                host = 'localhost:3001/';
            } else {
                host = nonProdMatch[2] + '-lpg.cshr.digital/';
            }
        }

        var scheme = window.location.protocol;
        var moduleId = getParameterByName('module');
        var path = 'learning-record/' + courseId + '/' + moduleId;

        window.location = scheme + '//' + host + path;

        return true;
    }
};


function getParameterByName(name, url) {
    if (!url) url = window.location.href;
    name = name.replace(/[\[\]]/g, "\\$&");
    var regex = new RegExp("[?&]" + name + "(=([^&#]*)|&|#|$)"),
        results = regex.exec(url);
    if (!results) return null;
    if (!results[2]) return '';
    return decodeURIComponent(results[2].replace(/\+/g, " "));
}


// Native js method to run on document ready thats crossbrowser and also will not override any existing on ready code
function r(f) {
    /in/.test(document.readyState) ? setTimeout('r(' + f + ')', 9) : f()
}

r(function () {
    var title = getParameterByName('title');
    document.title = title;
});
